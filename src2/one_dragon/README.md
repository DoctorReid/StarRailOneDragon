希望这部分是一条龙共用的代码，后续转化成框架